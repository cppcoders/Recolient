<!DOCTYPE html>
<html lang="en">

<head>
        <title>Recolient</title>
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <style>
                body {
                        background-color: #151419;
                }

                nav {
                        background-color: #4C1D95;
                }

                .menu {
                        padding: 20px;
                        font-size: 1.5em;
                        color: white;
                        display: flex;
                        justify-content: space-evenly;
                        width: 50%;
                }

                .menu a {
                        padding: 10px;
                }

                .menu a:hover {
                        color: #fed555;

                }

                .selected {
                        color: #fed555;
                        border-bottom: 1px solid #fed555;
                }

                .mic-cont {
                        height: 800px;
                }

                .recorder-container {
                        width: 200px;
                        background-color: #863ce7;
                        display: block;
                        margin: 50px auto 0px auto;
                        border-radius: 100%;
                        box-shadow: 0px 0px 15px 2px #171718;
                        cursor: default;
                        transition: .3s all ease-in;
                        position: relative;
                }

                .icon-microphone {
                        color: #fff;
                        font-size: 60px;
                        line-height: 150px;
                        display: block;
                        text-align: center;
                        transition: .1s all ease-in;
                        position: relative;
                }

                .outer {
                        width: 198px;
                        height: 198px;
                        transform: scale(1);
                        border-radius: 100%;
                        position: absolute;
                        background-color: transparent;
                        border: 1px solid #d7d8d8;
                        z-index: -1;
                        transition: 0s all ease;
                        animation: woong 1.5s infinite;
                }

                .outer-2 {
                        width: 200px;
                        height: 200px;
                        transform: scale(1);
                        border-radius: 100%;
                        position: absolute;
                        background-color: #9e92ca;
                        z-index: -1;
                        transition: 1.5s all ease;
                        animation: woong-2 1.5s infinite;
                        animation-delay: 2.5s;
                }

                @keyframes woong {
                        0% {
                                -webkit-trasform: scale(1.2);
                        }

                        50% {
                                -webkit-transform: scale(1.8);
                                opacity: 0.5;
                        }

                        100% {
                                -webkit-transform: scale(2.4);
                                opacity: 0;
                        }
                }

                @keyframes woong-2 {
                        0% {
                                -webkit-transform: scale(1.2);
                                opacity: 0.6;
                        }

                        50% {
                                -webkit-transform: scale(1.6);
                                opacity: 0.5;
                        }

                        100% {
                                -webkit-transform: scale(2);
                                opacity: 0;
                        }
                }

                h3 {
                        display: inline;
                }

                .info {
                        background-color: #1e1d22;
                }

                .info_selected {
                        color: white;
                        border-bottom: 1px solid rgba(200, 77, 50, 255);
                }

                .info_type {
                        text-align: center;
                        color: #6e6e6d;
                }

                .text_center {
                        text-align: center;
                }

                .h3 {
                        font-size: large;
                        padding: 10px;
                        cursor: pointer;
                }

                .h3:hover {
                        color: white;
                }



                .personal {
                        padding: 50px;
                        color: white;
                }

                .personal .l-left p {
                        font-size: larger;
                        color: #fed555;

                }


                .personal .r-right p {
                        font-size: larger;
                        color: white;
                }



                .account {
                        font-size: larger;
                        padding: 200px 50px 50px 50px;
                        color: white;
                        display: none;
                }

                .text_yellow {
                        color: #fed555;
                }

                .customer_service {
                        font-size: larger;
                        padding: 200px 50px 50px 50px;
                        color: white;
                        display: none;
                }

                footer
                {
                        background-color: #1e1d22; 
                        padding: 100px;
                }
        </style>
</head>

<body>

        <nav class="h-1"></nav>

        <div class="flex items-center justify-center">
                <div class="menu">
                        <a href="/" class="selected"><span>Home</span></a>
                        <a href="/clients"><span>Clients</span></a>
                        <a href="/more"><span>More</span></a>
                </div>
        </div>

        <div class="flex flex-col justify-center mic-cont">
                <div class="recorder-container" id="recorder-container">
                        <div id="outer"></div>
                        <div id="outer-2"></div>
                        <div id="icon-microphone"><img src="static/microphone.png"></div>
                </div>

                <div class="rounded-md shadow m-20 flex justify-center">
                        <button onclick="toggle_recording()" id="toggle-record"
                                class="px-10 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700">
                                Record
                        </button>
                </div>
        </div>



        <div class="container m-auto" id="information">
                <div class="info" style="padding: 50px;">


                        <div class="info_type flex justify-evenly">
                                <p class="text_center h3 info_selected" id="personal_info"
                                        onclick="choose_info('personal')">Personal info</p>
                                <p class="text_center h3" id="account_info" onclick="choose_info('account')">Account
                                        info</p>
                                <p class="text_center h3" id="customer_info" onclick="choose_info('customer')">Customer
                                        Service info</p>
                        </div>


                        <!-- ************************************************ Personal Info ***************************************************-->
                        <!-- ------------------------------------------------ ------------- ----------------------------------------------------->
                        <div id="personal">
                                <div class="flex justify-center" style="padding-top: 50px;">
                                        <p class="text_yellow text_center h3">ID</p> 
                                        <p class="h3 text_center" style="color: white;">HT35BND</p>
                                </div>
                                <div class="personal flex justify-evenly">
                                        <div class="left w-3/6 text_center flex justify-start">
                                                <div class="l-left w-3/6 text_center">
                                                        <p class="m-20">Name</p>
                                                        <p class="m-20">Gender</p>
                                                        <p class="m-20">Age</p>
                                                </div>

                                                <div class="r-right w-3/6 text_center">
                                                        <p class="m-20" id="name">Tarek</p>
                                                        <p class="m-20" id="gender">Male</p>
                                                        <p class="m-20" id="age">Age</p>

                                                </div>
                                        </div>

                                        <div class="right w-3/6 text_center flex justify-start">
                                                <div class="l-left w-3/6 text_center">
                                                        <p class="m-20">Email</p>
                                                        <p class="m-20">Phone</p>
                                                        <p class="m-20">Address</p>
                                                </div>

                                                <div class="r-right w-3/6 text_center">
                                                        <p class="m-20" id="name">tarekhassan3874@gmail.com</p>
                                                        <p class="m-20" id="gender">01068235608</p>
                                                        <p class="m-20" id="age">Qena, Qism Qena</p>

                                                </div>
                                        </div>


                                </div>
                        </div>
                <!-- ************************************************ Personal Info ***************************************************-->
                <!-- ------------------------------------------------ ------------- ----------------------------------------------------->







                        <!-- ************************************************ Account Info ***************************************************-->
                        <!-- ------------------------------------------------------------------------------------------------------------------->
                        <div class="account" id="account">
                                <div class="grid grid-rows-1 grid-cols-2 text_center">
                                        <p class="col-span-1 text_yellow">Balance</p>
                                        <span class="col-span-1">1000 L.E</span>
                                </div>

                                <div class="flex justify-center">
                                        <div class="my-20"
                                                style="width: 50%;height: 1px; background-color: rgb(87, 87, 87);">
                                        </div>
                                </div>

                                <div class="grid grid-rows-1 grid-cols-2">
                                        <div class="col-span-1 text_center" style="padding: 50px;">
                                                <p>Last withdraw</p>
                                                <div class="grid grid-rows-1 grid-cols-2" style="padding: 50px;">
                                                        <p class="col-span-1 text_yellow">Date</p>
                                                        <p class="col-span-1 text_yellow">Amount</p>

                                                </div>

                                                <div class="grid grid-rows-1 grid-cols-2" style="padding: 50px;">
                                                        <span class="col-span-1"
                                                                id="last_withdraw_date">11/2/2021</span>
                                                        <span class="col-span-1" id="last_withdraw_amount">5000
                                                                L.E</span>
                                                </div>
                                        </div>

                                        <div class="col-span-1  text_center" style="padding: 50px;">
                                                <p>Last deposit</p>
                                                <div class="grid grid-rows-1 grid-cols-2" style="padding: 50px;">
                                                        <p class="col-span-1 text_yellow">Date</p>
                                                        <p class="col-span-1 text_yellow">Amount</p>

                                                </div>
                                                <div class="grid grid-rows-1 grid-cols-2" style="padding: 50px;">
                                                        <span class="col-span-1" id="last_deposit_date">10/2/2021</span>
                                                        <span class="col-span-1" id="last_deposit_amount">3000
                                                                L.E</span>
                                                </div>
                                        </div>
                                </div>
                        </div>
                        <!-- ************************************************ Account Info ***************************************************-->
                        <!-- ------------------------------------------------------------------------------------------------------------------->







                        <!-- ************************************************ Customer Info **************************************************-->
                        <!-- ------------------------------------------------------------------------------------------------------------------->
                        <div class="customer_service" id="customer_service">
                                <div class="grid grid-rows-1 grid-cols-2">
                                        <div class="col-span-2 text_center" style="padding: 50px;">
                                                <p style="font-size: larger;font-weight: bold;">Last complaint</p>
                                                <div class="grid grid-rows-1 grid-cols-5" style="padding: 50px;">
                                                        <p class="col-span-1 text_yellow">Date</p>
                                                        <p class="col-span-1 text_yellow">Time</p>
                                                        <p class="col-span-1 text_yellow">Type</p>
                                                        <p class="col-span-1 text_yellow">Emplyee Name</p>
                                                        <p class="col-span-1 text_yellow">Satisfaction</p>

                                                </div>

                                                <div class="grid grid-rows-1 grid-cols-5" style="padding: 50px;">
                                                        <span class="col-span-1" id="last_call_date">11/2/2021</span>
                                                        <span class="col-span-1" id="last_call_amount">10:56 AM</span>
                                                        <span class="col-span-1" id="last_call_amount">Credit Card not working</span>
                                                        <span class="col-span-1" id="last_call_amount">Ahmed Hassan</span>
                                                        <span class="col-span-1" id="last_call_date">60%</span>
                                                        
                                                </div>
                                        </div>
                                </div>
                        </div>
                        <!-- ************************************************ Customer Info **************************************************-->
                        <!-- ------------------------------------------------------------------------------------------------------------------->


                </div>
        </div>


        <footer class="text_center mt-20">
                <p style="color: rgb(197, 197, 197);">Copyrights@ 2021 AAST Dr. Yasser Omar's Team </p>
        </footer>

        <script>
                var stream, recorder, chunks, media, urll = "http://127.0.0.1:5500/predict";
                media = { tag: 'audio', type: 'audio/webm;codecs=opus', gUM: { audio: true } }
                function makeLink() {
                        var file = new File(chunks, "output");
                        const formData = new FormData();
                        console.log(file)
                        formData.append("file", file);



                        fetch("https://anotepad.com/note/read/2k9nbd2g")
                                .then((response) => response.text())
                                .then((html) => {
                                        var parser = new DOMParser();
                                        var doc = parser.parseFromString(html, 'text/html');
                                        urll = doc.getElementsByClassName("plaintext")[0].textContent
                                })

                        fetch(urll, {
                                method: 'POST',
                                body: formData,
                        }).then(res => {
                                if (res.ok) console.log(res);
                        }).catch(err => {
                                console.log(err);
                        });

                }

                function toggle_recording() {
                        var e = document.getElementById("toggle-record")
                        if (e.innerText == "Record") {
                                e.innerText = "Stop"
                                e = document.getElementById("outer");
                                e.classList.add("outer");
                                e = document.getElementById("outer-2");
                                e.classList.add("outer-2");
                                chunks = [];
                                navigator.mediaDevices.getUserMedia(media.gUM).then(_stream => {
                                        recorder = new MediaRecorder(_stream);
                                        recorder.ondataavailable = e => {
                                                chunks.push(e.data);
                                        };
                                });
                                setTimeout(() => { recorder.start(); }, 300);

                        }
                        else {
                                e.innerText = "Record"
                                e = document.getElementById("outer");
                                e.classList.remove("outer");
                                e = document.getElementById("outer-2");
                                e.classList.remove("outer-2");
                                recorder.stop();
                                setTimeout(() => { makeLink(); }, 500);


                        }
                }

                function choose_info(type) {

                        var A, B, C;
                        var a, b, c;
                        if (type === 'personal') {
                                a = document.getElementById('personal_info');
                                b = document.getElementById('account_info');
                                c = document.getElementById('customer_info');

                                A = document.getElementById('personal');
                                B = document.getElementById('account');
                                C = document.getElementById('customer_service');
                        }
                        else if (type == 'account') {
                                a = document.getElementById('account_info');
                                b = document.getElementById('personal_info');
                                c = document.getElementById('customer_info');

                                A = document.getElementById('account');
                                B = document.getElementById('personal');
                                C = document.getElementById('customer_service');
                        }
                        else {
                                a = document.getElementById('customer_info');
                                b = document.getElementById('account_info');
                                c = document.getElementById('personal_info');

                                A = document.getElementById('customer_service');
                                B = document.getElementById('account');
                                C = document.getElementById('personal');
                        }

                        A.style.display = 'block';
                        B.style.display = 'none';
                        C.style.display = 'none';

                        a.classList.add('info_selected');
                        b.classList.remove('info_selected');
                        c.classList.remove('info_selected');
                }



        </script>


        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
                integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
                crossorigin="anonymous"></script>

</body>